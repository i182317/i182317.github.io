<head>
	<title>nlefort - js - deplacement carre</title>
	<link rel="stylesheet" type="text/css" href="../style.css">
</head>

<body>

	<nav>
		<ul>
			<li><a href="../index.html">Accueil</a></li>
			<li><a href="../html/accueilhtml.html">HTML</a></li>
			<li><a href="../php/accueilphp.html">PHP</a></li>
			<li><a href="../vue/accueilvue.html">Vue</a></li>
		</ul>
	</nav>


	<h1>carre</h1>
	<canvas id="canvasSquare" width="1000px" height="300px"></canvas>
	<button id="relancer">relancer</button>


</body>

<script type="text/javascript">
	var canvas = document.getElementById('canvasSquare')
	var x = 0, y = 100;
	if (canvas.getContext) {
		var ctx = canvas.getContext('2d')
	}
			
	ctx.fillStyle='red'
	ctx.fillRect(x, y, 100, 100);

	var compt = 0;
	var deuxsec = window.setInterval(debut, 2000);

	function debut() {
		if (compt = 2) {
			clearInterval(deuxsec);
			var temp = window.setInterval(deplacement, 60);
		}
		compt = compt+1;
	}

	function deplacement() {
		if (x == canvas.width) {
			clearInterval(temp);
			alert('termine');
		}
		ctx.clearRect(x, y, canvas.width, canvas.height);
		x = x+10;
		ctx.fillRect(x, y, 100, 100);
	}

	var buttonRelancer = document.getElementById('relancer');
	buttonRelancer.addEventListener('click', function(event) {
		x = 0;
	})


</script> 